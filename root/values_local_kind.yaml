clusterForge:
  repoUrl: "http://gitea-http.cf-gitea.svc:3000/cluster-org/cluster-forge.git"
  targetRevision: main # use main for local development
externalValues:
  enabled: true
  repoUrl: "http://gitea-http.cf-gitea.svc:3000/cluster-org/cluster-values.git"
  targetRevision: main
  path: values_local_kind.yaml
global:
  domain: localhost # to be filled by bootstrap script or use localhost
enabledApps:
  # Minimal set for local development
  - argocd
  - argocd-config
  - cert-manager
  - openbao
  - openbao-config
  - external-secrets
  - external-secrets-config
  - gitea
  - gitea-config
  - gateway-api
  - metallb
  - kgateway-crds
  - kgateway
  - kgateway-config
  # Monitoring (required by AIRM)
  - prometheus-crds
  - opentelemetry-operator
  # Database operator
  - cnpg-operator
  # Minimal storage (with reduced resources)
  - minio-operator
  - minio-tenant
  - minio-tenant-config
  # AIRM dependencies
  - rabbitmq
  - kyverno
  - kyverno-config
  - cluster-auth
  - cluster-auth-config
  - keycloak
  - keycloak-config
  - kaiwo-crds
  - kaiwo
  - kaiwo-config
  - airm
  # Optional: Add other components as needed
  # - kuberay-operator
  # - kueue
  # - kueue-config
# Override minio-tenant to use local-friendly values
apps:
  minio-tenant:
    path: minio-tenant/7.1.1
    namespace: minio-tenant-default
    valuesFile: ../values_local_kind.yaml  # Use local kind values
    syncWave: -2
  keycloak:
    path: keycloak/25.2.0
    namespace: keycloak
    valuesFile: ../values_local_kind.yaml  # Enable realm import
    syncWave: -2
  keycloak-config:
    path: keycloak-config/1.0.0
    namespace: keycloak-config
    valuesFile: values.yaml
    helmParameters:
      - name: domain
        value: "localhost.local"  # Use valid TLD for devuser email
    syncWave: -1
  airm:
    path: airm/0.2.7
    namespace: airm
    valuesFile: values.yaml
    helmParameters:
      - name: airm-api.airm.appDomain
        value: "localhost.local"  # Use valid TLD for email validation
    syncWave: 0
