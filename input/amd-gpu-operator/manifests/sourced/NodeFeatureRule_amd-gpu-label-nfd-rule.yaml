---
apiVersion: nfd.k8s-sigs.io/v1alpha1
kind: NodeFeatureRule
metadata:
  name: amd-gpu-label-nfd-rule
  namespace: kube-amd-gpu
spec:
  rules:
    - labels:
        feature.node.kubernetes.io/amd-vgpu: "true"
      matchAny:
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - "7410"
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74b5
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74b9
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - "7461"
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 73ae
                vendor:
                  op: In
                  value:
                    - "1002"
      name: amd-vgpu
    - labels:
        feature.node.kubernetes.io/amd-gpu: "true"
      matchAny:
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74a5
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74a2
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74b6
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74a8
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74a0
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74a1
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74a9
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 74bd
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 740f
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - "7408"
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 740c
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 738c
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 738e
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - "7460"
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - "7448"
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 744a
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 745e
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 73a2
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 73a3
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 73ab
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 73a1
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - "7550"
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 744c
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 73af
                vendor:
                  op: In
                  value:
                    - "1002"
        - matchFeatures:
            - feature: pci.device
              matchExpressions:
                device:
                  op: In
                  value:
                    - 73bf
                vendor:
                  op: In
                  value:
                    - "1002"
      name: amd-gpu
