apiVersion: v1
kind: ConfigMap
metadata:
  name: openbao-secrets-config
  namespace: cf-openbao
data:
  secrets.env: |
    # OpenBao Secret Configuration
    # Format: SECRET_PATH|TYPE|VALUE|BYTES
    # 
    # TYPE options:
    #   - static: Use the VALUE as-is (supports {{ .Values.domain }} templating)
    #   - random: Generate random hex string with specified BYTES length
    # 
    # BYTES: Only used for random type, ignored for static type
    
    # =============================================================================
    # HOW TO ADD NEW SECRETS
    # =============================================================================
    # 
    # To add a new secret for your application:
    # 1. Add a line following the format: SECRET_PATH|TYPE|VALUE|BYTES
    # 2. Commit and push to main branch
    # 3. Wait up to 5 minutes for automatic creation in OpenBao
    # 
    # Examples:
    # secrets/my-app-database-password|random||32        # 32-byte random password
    # secrets/my-app-api-key|static|my-fixed-api-key|0   # Static value
    # secrets/my-app-url|static|https://api.{{ .Values.domain }}/v1|0  # With domain template
    #
    # =============================================================================
    # CLUSTER-WIDE SECRETS
    # =============================================================================
    
    # Cluster domain for ingress and routing
    secrets/cluster-domain|static|{{ .Values.domain }}|0
    
    # =============================================================================
    # AIRM APPLICATION SECRETS
    # =============================================================================
    
    # Database credentials for AIRM
    secrets/airm-cnpg-user-username|static|airm_user|0
    secrets/airm-cnpg-user-password|random||16
    secrets/airm-cnpg-superuser-username|random||16
    secrets/airm-cnpg-superuser-password|random||16
    
    # RabbitMQ credentials for AIRM
    secrets/airm-rabbitmq-user-username|random||16
    secrets/airm-rabbitmq-user-password|random||16
    
    # AIRM UI authentication secrets
    secrets/airm-ui-keycloak-secret|random||16
    secrets/airm-ui-auth-nextauth-secret|random||16
    secrets/airm-ci-client-secret|random||16
    
    # AIRM Keycloak admin client configuration
    secrets/airm-keycloak-admin-client-id|static|admin-client-id-value|0
    secrets/airm-keycloak-admin-client-secret|random||16
    
    # =============================================================================
    # KEYCLOAK SECRETS
    # =============================================================================
    
    # Keycloak admin and development user passwords
    secrets/keycloak-initial-admin-password|random||16
    secrets/keycloak-initial-devuser-password|random||16
    
    # Database credentials for Keycloak
    secrets/keycloak-cnpg-user-username|static|keycloak|0
    secrets/keycloak-cnpg-user-password|static|keycloak|0
    secrets/keycloak-cnpg-superuser-username|random||16
    secrets/keycloak-cnpg-superuser-password|random||16
    
    # =============================================================================
    # MINIO SECRETS
    # =============================================================================
    
    # MinIO API access credentials
    secrets/minio-api-access-key|static|api-default-user|0
    secrets/minio-api-secret-key|random||16
    
    # MinIO console access credentials  
    secrets/minio-console-access-key|static|default-user|0
    secrets/minio-console-secret-key|random||16
    
    # MinIO root admin password
    secrets/minio-root-password|random||16
    
    # MinIO additional secrets
    secrets/minio-client-secret|random||16
    secrets/minio-openid-url|static|https://kc.{{ .Values.domain }}/realms/airm/.well-known/openid-configuration|0
    
    # =============================================================================
    # KUBERNETES & GITEA SECRETS
    # =============================================================================
    
    # Kubernetes client secret
    secrets/k8s-client-secret|random||16
    
    # Gitea client secret
    secrets/gitea-client-secret|random||16
    
    # ArgoCD client secret
    secrets/argocd-client-secret|random||16
    
    # =============================================================================
    # CLUSTER AUTH SECRETS
    # =============================================================================
    
    # Cluster auth admin token
    secrets/cluster-auth-admin-token|random||16
    
    # AIWB secrets
    secrets/aiwb-cnpg-user-username|random||16
    secrets/aiwb-cnpg-user-password|random||16
    secrets/aiwb-cnpg-superuser-username|random||16
    secrets/aiwb-cnpg-superuser-password|random||16 
    secrets/aiwb-ui-auth-nextauth-secret|random||16 
    # Cluster auth OpenBao token (will be set to actual BAO_TOKEN)
    # Note: This is handled specially in the script
    
    # =============================================================================
    # ADD NEW SECRETS BELOW THIS LINE
    # =============================================================================
    # Example:
    # secrets/my-test-secret-1|random||32
    # secrets/my-new-app-api-key|static|my-static-value|0
